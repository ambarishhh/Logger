#include "loggersettings.h"

using namespace logger;

LoggerSettings* LoggerSettings::settings_ = nullptr;
std::mutex LoggerSettings::settingsLock_;

/***************************************************************************************
**********************************LoggerSettings****************************************
***************************************************************************************/

LoggerSettings::LoggerSettings()
{
}

/***************************************************************************************
**********************************SetConfiguration**************************************
***************************************************************************************/

LoggerSettings* LoggerSettings::GetSettings()
{
	std::lock_guard<std::mutex> lg(settingsLock_);
	if (!settings_)
		settings_ = new LoggerSettings();
	return settings_;
}

/***************************************************************************************
**********************************SetFilePath**************************************
***************************************************************************************/

void LoggerSettings::SetFilePath(std::string filepath)
{
	if (filepath != "")
	{
		std::lock_guard<std::mutex> lg(filepathMutex_);
		filepath_ = filepath;
	}
	else
	{
		throw "Incorrect filepath set in the logger";
	}
}

/***************************************************************************************
**********************************GetFilePath**************************************
***************************************************************************************/

std::string LoggerSettings::GetFilePath()
{
	std::lock_guard<std::mutex> lg(filepathMutex_);
	return filepath_;
}

/***************************************************************************************
****************************************************************************************
***************************************************************************************/
